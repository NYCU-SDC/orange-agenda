import{j as v}from"./jsx-runtime-D_zvdyIk.js";import{h as P,r as l}from"./iframe-B2-k4i_I.js";import{c as U}from"./index-D07Qq6qO.js";import{u as D}from"./index-CRr9h_6-.js";import{u as b}from"./index-CCKDAdSp.js";import{P as L}from"./index-DENBKIz7.js";import"./preload-helper-PPVm8Dsz.js";import"./index-CR81kQaK.js";import"./index-Cg6ca84V.js";var y={exports:{}},A={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I;function $(){if(I)return A;I=1;var e=P();function a(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var n=typeof Object.is=="function"?Object.is:a,o=e.useState,c=e.useEffect,t=e.useLayoutEffect,f=e.useDebugValue;function i(r,s){var p=s(),E=o({inst:{value:p,getSnapshot:s}}),d=E[0].inst,x=E[1];return t(function(){d.value=p,d.getSnapshot=s,u(d)&&x({inst:d})},[r,p,s]),c(function(){return u(d)&&x({inst:d}),r(function(){u(d)&&x({inst:d})})},[r]),f(p),p}function u(r){var s=r.getSnapshot;r=r.value;try{var p=s();return!n(r,p)}catch{return!0}}function m(r,s){return s()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:i;return A.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,A}var j;function B(){return j||(j=1,y.exports=$()),y.exports}var V=B();function W(){return V.useSyncExternalStore(G,()=>!0,()=>!1)}function G(){return()=>{}}var k="Avatar",[H]=U(k),[J,C]=H(k),N=l.forwardRef((e,a)=>{const{__scopeAvatar:n,...o}=e,[c,t]=l.useState("idle");return v.jsx(J,{scope:n,imageLoadingStatus:c,onImageLoadingStatusChange:t,children:v.jsx(L.span,{...o,ref:a})})});N.displayName=k;var q="AvatarImage",F=l.forwardRef((e,a)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:c=()=>{},...t}=e,f=C(q,n),i=O(o,t),u=D(m=>{c(m),f.onImageLoadingStatusChange(m)});return b(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?v.jsx(L.img,{...t,ref:a,src:o}):null});F.displayName=q;var M="AvatarFallback",T=l.forwardRef((e,a)=>{const{__scopeAvatar:n,delayMs:o,...c}=e,t=C(M,n),[f,i]=l.useState(o===void 0);return l.useEffect(()=>{if(o!==void 0){const u=window.setTimeout(()=>i(!0),o);return()=>window.clearTimeout(u)}},[o]),f&&t.imageLoadingStatus!=="loaded"?v.jsx(L.span,{...c,ref:a}):null});T.displayName=M;function R(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function O(e,{referrerPolicy:a,crossOrigin:n}){const o=W(),c=l.useRef(null),t=o?(c.current||(c.current=new window.Image),c.current):null,[f,i]=l.useState(()=>R(t,e));return b(()=>{i(R(t,e))},[t,e]),b(()=>{const u=r=>()=>{i(r)};if(!t)return;const m=u("loaded"),g=u("error");return t.addEventListener("load",m),t.addEventListener("error",g),a&&(t.referrerPolicy=a),typeof n=="string"&&(t.crossOrigin=n),()=>{t.removeEventListener("load",m),t.removeEventListener("error",g)}},[t,n,a]),f}var K=N,z=F,Q=T;const X="_root_vcjk0_1",Y="_image_vcjk0_14",Z="_fallback_vcjk0_21",_={root:X,image:Y,fallback:Z},w=({src:e,alt:a,fallback:n})=>v.jsxs(K,{className:_.root,children:[v.jsx(z,{className:_.image,src:e,alt:a}),v.jsx(Q,{className:_.fallback,delayMs:600,children:n})]});w.displayName="Avatar";w.__docgenInfo={description:"",methods:[],displayName:"Avatar",props:{src:{required:!1,tsType:{name:"string"},description:""},alt:{required:!1,tsType:{name:"string"},description:""},fallback:{required:!0,tsType:{name:"string"},description:""}}};const ue={title:"Components/Avatar",component:w,tags:["autodocs"]},S={args:{src:"https://images.unsplash.com/photo-1492633423870-43d1cd2775eb?w=128&h=128&dpr=2&q=80",alt:"User avatar",fallback:"JD"}},h={args:{fallback:"AB"}};S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:`{
  args: {
    src: 'https://images.unsplash.com/photo-1492633423870-43d1cd2775eb?w=128&h=128&dpr=2&q=80',
    alt: 'User avatar',
    fallback: 'JD'
  }
}`,...S.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  args: {
    fallback: 'AB'
  }
}`,...h.parameters?.docs?.source}}};const de=["WithImage","Fallback"];export{h as Fallback,S as WithImage,de as __namedExportsOrder,ue as default};
